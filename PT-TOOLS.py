# Modulos para diversas funciones:
import os
from sys import exit
from time import sleep
from subprocess import getoutput
from getpass import _raw_input
import pyfiglet
# Modulos(librerias de instalacion):
from src.Kali import Kali
from src.DebianPT import DebianPT
from src.BasicTools import BasicTools

# Modulo para colores de la shell:
from src.colors import COLOR
banner = pyfiglet.figlet_format("Pentester-Tool")


def salir():
    print("")
    print(colores.POINTGREEN('Saliendo...'))
    # Funcion para salir:
    exit(0)


if __name__ == '__main__':
    colores = COLOR()
    # Creamos un bucle infinito:
    while True:
    
        try:
    
            print(colores.CLEAR())
            print(colores.CYAN + banner)
            print(colores.GREEN + "[+] GitHub: https://github.com/kidd3n")
            print(colores.GREEN + "[+] Version Beta")
            input(colores.GREEN + "[+] Enter para continuar")
            print(colores.CLEAR())
            opciones = {
                1: ('Kali (Se actualizara y descargara herramientas adicionales de pentesting)', Kali),
                2: ('Todas las herramientas de Pentesting', DebianPT),
                3: ('Descarga Herramientas utiles para un usuario normal como LibreOffice, Chrome, etc.', BasicTools),
                4: ('Salir', salir)
            }

            for key in opciones.keys():
                # mostart el menu de opciones:
                print("{}{}{}){} {}".format(colores.CYAN, key, colores.CYAN, colores.CYAN , opciones[key][0]))

            try:
                opcion_escogida = int(_raw_input("Opcion: "))
            except ValueError:
                # si se introdujo algo diferente a un numero mostramos este mensaje de error:
                print(colores.POINTRED("\n[!] Esta no es una opcion valida."))
                sleep(1)
                continue
            
            # si cantidad_de_opciones
            cantidad_de_opciones = 0
            for key in opciones.keys():
                if key == opcion_escogida:
                    # Cuando encontramos la opcione que queremos, la ejecutamos
                    opciones[key][1]()
                else:
                    cantidad_de_opciones += 1
                
                if cantidad_de_opciones == len(opciones.keys()):
                    print(colores.POINTRED("\n[!] Esta opcion no esta dentro del menu..."))
            sleep(1)

        except KeyboardInterrupt:
            # si se hizo un Ctrl + c salimos del progranma:
            salir()
   

