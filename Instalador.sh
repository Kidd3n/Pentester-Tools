#!/bin/bash

if [ $(id -u) -ne 0 ]; then
	echo -e "\n[!] Debes ser root para ejecutar el instalador (sudo $0)"
exit 1
fi

test -f /usr/bin/python
pythontest=$(echo $?)

test -f /usr/bin/python/pyfiglet
pyfiglettest=$(echo $?)

test -f /usr/bin/git
gittest=$(echo $?)

if test $pythontest == "0" && $pyfiglettest == "0"; then 
    echo "Todo esta preparado para iniciar el script"
    python3 PT-TOOLS.py
else
    echo "Hay que instalar las dependencias necesarias..."
    if test $pythontest != "0"; then
        clear
        echo -e "\nInstalando python...\n"
        sudo apt-get install python3 -y > /dev/null 2>&1
        sudo apt-get install python3-pip -y > /dev/null 2>&1
        fi
    if test $pyfiglettest != "0"; then
        clear
        echo -e "\nInstalando requerimentos...\n"
        pip install pyfiglet > /dev/null 2>&1
        fi
    if test $gittest != "0"; then 
        clear
        echo -e "\nInstalando Git...\n"
        sudo apt-get install git -y > /dev/null 2>&1
        fi
    python3 PT-TOOLS.py
fi